# CSS设置时一些容易踩的坑

一般来说，HMTL负责网页的结构，而CSS负责网页的表现。但是在调教(雾~)网页的过程中，发现它好像不太听话，明明叫它走动一下，它偏偏不动。(明明同学好伤心(ㄒoㄒ)~) 那么，是不是有些东西我们忽略了，导致无法正确地传达我们的想法呢？

下面整理了一些我们小白可能会踩的坑。



## 优先级问题
1. 计算优先级

   优先级的计算方法

   * a = 行内样式

   * b = ID选择器的数量

   * c = 类/伪类/属性选择器的数量

   * d = 标签选择器(元素选择器)/伪元素选择器的数量

   从上到下，权重依次降低，设总的权重值为value

   则 value = a\*1000 + b\*100 + c\*10 + d

   举个例子

   |        选择器         |  a   |  b   |  c   |  d   | value |
   | :----------------: | :--: | :--: | :--: | :--: | :---: |
   |         h1         |  0   |  0   |  0   |  1   |   1   |
   |      p > span      |  0   |  0   |  0   |  2   |   2   |
   | style="color:#fff" |  1   |  0   |  0   |  0   | 1000  |
   |     .parent p      |  0   |  0   |  1   |  1   |  11   |
   |   div #container   |  0   |  1   |  0   |  1   |  101  |
   |       a:link       |  0   |  0   |  1   |  1   |  11   |

   表格所示就是选择器优先级权重的计算方式。

   优先级高的选择器的样式就会覆盖优先级低的样式。

   优先级一样且选中了同一个元素时情况会怎样呢？ 相同的属性会覆盖，也就是后面的会覆盖前面的；不同的属性会合并。

2. 改变优先级

   改变优先级有几种方法

   * 改变先后顺序
   * 提升选择器优先级。 如把 .special {} 改为 p .special {}
   * 在样式声明的语句之后，分号之前 添加关键字 `!important `
     举个例子
     html文档中有 ` <p class="tip special">XXXX</p> `
     CSS中设置
   ```css
   .tip {
   	color: blue !important;
   }
   p.special {
   	color: red;
   }
   ```
   注意最后的方法虽然很强力但是不推荐使用。因为不利于debug，当文档大了以后，设置了很多样式。当你调整时发现始终没反应，不容易注意到哪些地方设置了这样的强力设置语句。除非前面的方法都不可行时，否则不要轻易用这个方法。

   ​

## 元素display属性怎么用
有时候不知道该把元素调整为block, inline 还是 inline-block, 这几个到底怎么区分呢

下面看一个表格

|   display    | 前后是否换行 | 默认宽度  | 是否可设置宽高 | margin/padding | 代表元素     |
| :----------: | :----: | :---: | :-----: | :------------: | -------- |
|    block     |   换行   | 父元素宽度 |  可设置宽高  |    四个方向都有效     | div,p,h1 |
|    inline    |  不换行   | 内容宽度  | 不可设置宽高  |   左右有效, 上下无效   | span, a  |
| inline-block |  不换行   | 内容宽度  |  可设置宽高  |    四个方向都有效     | img      |

如此，若你想要为一个inline元素设置宽高，又不想让它换行，不如把它设置为`display: inline-block`



## 水平居中和垂直居中

1. 水平居中
   * 行内元素 为父元素设置`text-align: center;`
   * 块级元素 分两种情形
     * 定宽    为元素设置 `margin-left: auto; margin-right: auto;`
     * 不定宽 可为元素设置 `display:table;` (table定宽), 然后按照定宽处理；还可为元素设置`display: inline; `然后按照行内元素处理；

2. 垂直居中

   ​以div为例 
   ​单行内容元素垂直居中，可以将line-height设置为div的height
   多行内容元素垂直居中，可以为 div 设置` display: table-cell`, 然后设置 `vertical-align: middle;` 注意是middle不是center哟。

   ​

## 表单控件的对齐

有时发现自己做的表单罗列的乱糟糟的，想要整理一下，却发现很难调整精确，该怎么办

1. 用 table 整理控件

   这个不用细说了吧，采用 table > tr > td 的结构，把控件放到对应的单元格里，再为某行、某列或者单元格设置对应的样式。但是在标准化的HTML元素使用中，table应该只用来承载数据。

2. 用 div 或者ul li 整理控件

   简单地说，就是用 div 或者无序列表来分行，然后表单中的每一行都有一个标题用来告诉用户需要输入什么内容。这个标题一般放在`<label>` 或者 `<span>` 标签内，最好为其添加类似于 title 的class 。

   然后可以为标题元素做如下设置：

   ```css
   .title {
   	float: left;
   	width: 30%;    // 可以使标题拥有相同的宽度，这样排列更加整齐
   	text-align: right;
   	padding-right: 2em;    // 使得标题盒子内的文字与表单控件之间保持一定的空隙
   }
   ```
   补充，有时，为了提高表单的可读性，还可以对刚才用于布局的 div 或者 li 元素设置一些样式，比如
   ```css
   .box {
   	margin: 1em;
   	padding-bottom: 1em;
   }
   ```

## 备注

1. HTML文档中原来设置有后来没显示的元素，如果不是确定要删除的化，在css中设置 `display: none; `就可以隐藏该元素及其空间了。
2. 发现这次示例图中侧栏与上面文章框的margin-top比之前大一点，margin-right也要大一点。修改了好几次才注意到。


以上，是这次任务一中可能用到的一些信息，可能有纰漏或者错误的地方，还请大家多多指正！


参考资料：

[《HTML&CSS设计与构建网站》](https://book.douban.com/subject/21338365/)
[《CSS权威指南》](https://book.douban.com/subject/2308234/)